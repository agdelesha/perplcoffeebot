from aiogram import types
from aiogram.types import InputFile
from ..config.config import WELCOME_IMAGE
from ..keyboards.keyboards import get_client_keyboard
from ..utils.helpers import load_users, save_user

async def cmd_start(message: types.Message):
    user_id = str(message.from_user.id)
    users = load_users()
    if user_id not in users:
        save_user(user_id)
        users.add(user_id)

    welcome_text = """
–ø—Ä–∏–≤–µ—Ç, –ø–∏–ø–ª! 
–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—ë—Ä–ø–ª!
–≤–∞—à–∞ –ª—é–±–∏–º–∞—è –∫–æ—Ñ–µ–π–Ω—è —Ç–µ–ø–µ—Ä—å –≤ –≤–∞—à–µ–º –∫–∞—Ä–º–∞–Ω–µ üíú

–∫–æ–ø–∏—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –∫–∞–∂–¥—ã–π –∑–∞–∫–∞–∑ (1 –∑–∞–∫–∞–∑ = 1 –±–æ–Ω—É—Å) –∏ –æ–±–º–µ–Ω–∏–≤–∞–π—Ç–µ 6 –±–æ–Ω—É—Å–æ–≤ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –Ω–∞–ø–∏—Ç–æ–∫ 

–≤—Å–µ–≥–¥–∞ –∂–¥—ë–º –≤–∞—Å üí´
"""
    with open(WELCOME_IMAGE, 'rb') as photo:
        await message.bot.send_photo(
            chat_id=message.chat.id,
            photo=InputFile(photo),
            caption=welcome_text,
            reply_markup=get_client_keyboard()
        )

async def cmd_help(message: types.Message):
    help_text = """
–ù–∞ —Å–≤—è–∑–∏ –ü–Å–†–ü–õ! ‚òïÔ∏è

–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

–°–¥–µ–ª–∞–π—Ç–µ –∑–∞–∫–∞–∑ –≤ –Ω–∞—à–µ–π –∫–æ—Ñ–µ–π–Ω–µ
–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∏—Å–ª–∏—Ç—å –±–æ–Ω—É—Å—ã" –≤ –±–æ—Ç–µ
–ë–∞—Ä–∏—Å—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ
–ë–æ–Ω—É—Å—ã –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º —Å—á–µ—Ç–µ

–ù–∞–∫–æ–ø–∏–≤ 6 –±–æ–Ω—É—Å–æ–≤ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∏—Ö –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –ª—é–±–æ–π –Ω–∞–ø–∏—Ç–æ–∫ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –º–µ–Ω—é!
–ù–∞–∂–º–∏—Ç–µ "–û–±–º–µ–Ω—è—Ç—å –±–æ–Ω—É—Å—ã –Ω–∞ –Ω–∞–ø–∏—Ç–æ–∫"
–ë–∞—Ä–∏—Å—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç –æ–±–º–µ–Ω
–ë–æ–Ω—É—Å—ã —Å–ø–∏—à—É—Ç—Å—è
–ë–æ–Ω—É—Å—ã –º–æ–∂–Ω–æ –æ–±–º–µ–Ω—è—Ç—å –Ω–∞ –ª—é–±–æ–π —Å—Ä–µ–¥–Ω–∏–π –Ω–∞–ø–∏—Ç–æ–∫ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –º–µ–Ω—é
–ó–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞–ø–∏—Ç–∫–∏(–±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ –∏–ª–∏ –∏–∑ —Ñ–∏—Ä–º–µ–Ω–Ω–æ–≥–æ –º–µ–Ω—é) –¥–æ–ø–ª–∞—Ç–∞ 70—Ä

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å"

–ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –ª—é–±–∏–º—ã–º–∏ –Ω–∞–ø–∏—Ç–∫–∞–º–∏ –∏ –∫–æ–ø–∏—Ç–µ –±–æ–Ω—É—Å—ã —Å –ü–Å–†–ü–õ! üíú
"""
    await message.reply(help_text, reply_markup=get_client_keyboard())

async def about_coffee_shop(message: types.Message):
    about_text = """
–ü–Å–†–ü–õ - —ç—Ç–æ –∫–æ—Ñ–µ–π–Ω—è —Å —É—é—Ç–Ω–æ–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π –∏ –≤–∫—É—Å–Ω—ã–º –∫–æ—Ñ–µ üíú

–ú—ã –Ω–∞—Ö–æ–¥–∏–º—Å—è –ø–æ –∞–¥—Ä–µ—Å—É: –ú–æ—Å–∫–≤–∞, –ë–æ–ª—å—à–∞—è –°–µ–º—ë–Ω–æ–≤—Å–∫–∞—è 27–∫2
–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: 8:00-20:00

–î–ª—è —Å–≤—è–∑–∏:
–¢–µ–ª–µ—Ñ–æ–Ω: +7(977)999-99-99
Telegram: @purplecoffee

–ú—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å! ‚ú®
"""
    await message.reply(about_text)
